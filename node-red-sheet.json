[{"id":"b603dfd8.a6e9c","type":"function","name":"","func":"\n// this line send the actual page back\n\nvar str = msg.payload.device.match(/^[0-9]+$/m)\nvar devices = [ \"aaaa::212:7402:2:202\", \"aaaa::212:7403:3:303\", \"aaaa::212:7404:4:404\", \"aaaa::212:7405:5:505\" ];\nvar deviceAddressIdx = \"\"\n\n/*\n\nif (str[0]) {\n//if ( msg.payload.device == \"3\")\n//\tmsg.payload=\"coap://[aaaa::212:7403:3:303]:5683/sensors/battery\"\n\n\tswitch(str[0]) {\n\t\tcase \"3\":\n\t\t\t//msg.payload=\"coap://[\" + devices[2] + \"]:5683/sensors/battery\"\n\t\t\tdeviceAddressIdx = 1; \n\t\t\tbreak;\n\t\tdefault:\n\t\t\tmsg.payload=\"error\"\n\t\t\tbreak;\n\t}\n\t\n\tmsg.payload = \"coap://[\" + devices[deviceAddressIdx] + \"]:5683/sensors/battery\"\n}\n*/\n\nmsg.payload = \"coap://[\" + msg.payload.device + \"]:5683/sensors/battery\"\n\n// this carries on as normal, they don't have to be the same\nreturn msg","outputs":"1","x":428.56666564941406,"y":1503.5666427612305,"z":"3de27e45.c21d82","wires":[["925a2a13.6ac45","b541e06e.761508"]]}]
